openapi: 3.0.3
info:
  title: Swagger Peerly
  description: |-
    Peer to peer appreciations
  version: 1.0.11
servers:
  - url: http://localhost:33001/
tags:
  - name: Core Values
    description: Core Value cruds

paths:

  /organisations/{organisationId}/core_values/{coreValueId}:
    put:
      tags:
        - Core Values
      summary: Update an existing core value
      description: Update an existing core value by Id
      operationId: updateCoreValue
      parameters:
        - name: organisationId
          in: path
          description: ID of organisation
          required: true
          schema:
            type: integer
            format: int64
          example: 1
        - name: coreValueId
          in: path
          description: ID of corevalue
          required: true
          schema:
            type: integer
            format: int64
          example: 32
        - in: header
          name: Accept-Version
          required: true
          description: Defines the media type and version of the API endpoint
          schema:
            enum:
              - 'application/vnd.peerly.v1'
            type: string
      requestBody:
        description: Update an existing core value in the organisation
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCoreValues'
        required: true
      responses:
        '200':
          description: Successful operation
        '400':
          description: Invalid input data
        '404':
          description: Orgnisation id not found / Core value id not found
        '500':
          description: Internal server error
          
    get:
      tags:
        - Core Values
      summary: Finds corevalue by id
      description: get a corevalue by organisation id and corevalue id
      operationId: get a corevalue by id
      parameters:
        - name: organisationId
          in: path
          description: ID of organisation
          required: true
          schema:
            type: integer
            format: int64
          example: 1
        - name: coreValueId
          in: path
          description: ID of corevalue
          required: true
          schema:
            type: integer
            format: int64
          example: 30
        - in: header
          name: Accept-Version
          required: true
          description: Defines the media type and version of the API endpoint
          schema:
            enum:
              - 'application/vnd.peerly.v1'
            type: string
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/GetCoreValuesResp'          
        '404':
          description: Invalid organisation id / Invalid core value id
          
    delete:
      tags:
        - Core Values
      summary: Deletes a corevalue
      description: delete a corevalue
      operationId: deleteCoreValue
      parameters:
        - name: organisationId
          in: path
          description: ID of organisation
          required: true
          schema:
            type: integer
            format: int64
          example: 1
        - name: coreValueId
          in: path
          description: ID of corevalue
          required: true
          schema:
            type: integer
            format: int64
          example: 30
        - in: header
          name: Accept-Version
          required: true
          description: Defines the media type and version of the API endpoint
          schema:
            enum:
              - 'application/vnd.peerly.v1'
            type: string
      responses:
        '200':
          description: Delete sucessfull
        '404':
          description: Invalid organisation id/ invalid corevalue id
        '500':
          description: Internal server error
          
  /organisations/{organisationId}/core_values:
    post:
      tags:
        - Core Values
      summary: Add a new core value
      description: Add a new core value
      operationId: addCoreValue
      parameters:
        - name: organisationId
          in: path
          description: ID of organisation
          required: true
          schema:
            type: integer
            format: int64
          example: 1
        - in: header
          name: Accept-Version
          required: true
          description: Defines the media type and version of the API endpoint
          schema:
            enum:
              - 'application/vnd.peerly.v1'
            type: string
      requestBody:
        description: Create a new core value
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCoreValues'
        required: true
      responses:
        '201':
          description: Successfully created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateCoreValuesResp'          

        '400':
          description: Invalid input
        '404':
          description: Invalid organisation id
        '500' :
          description: Internal server error

    get:
      tags:
        - Core Values
      summary: List all corevalues of the organisation
      description: List all the core values of the specified organisation
      operationId: listCoreValues
      parameters:
        - name: organisationId
          in: path
          description: ID of organisation
          required: true
          schema:
            type: integer
            format: int64
          example: 1
        - in: header
          name: Accept-Version
          required: true
          description: Defines the media type and version of the API endpoint
          schema:
            enum:
              - 'application/vnd.peerly.v1'
            type: string

      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ListCoreValuesResp'          
        '404':
          description: Invalid organisation id
        '500':
          description: Internal server error

components:
  schemas:
    
    UpdateCoreValues:
      type: object
      properties:
        text:
          type: string
          example: Updated core value
        description:
          type: string
          example: updated description
        thumbnail_url:
          type: string
          example: url string
    
    CreateCoreValues:
      type: object
      properties:
        text:
          type: string
          example: Updated core value
        description:
          type: string
          example: updated description
        thumbnail_url:
          type: string
          example: url string
        parent_id:
          type: integer
          format: int64
          example: 1
          
    CreateCoreValuesResp:
      type: object
      properties:
        id:
          type: integer
          format: int64
        org_id:
          type: integer
          format: int64
        text:
          type: string
        description:
          type: string
        parent_id:
          type: integer
          format: int64
        thumbnail_url:
          type: string
        created_at:
          type: string
        updated_at:
          type: string
        created_by: 
          type: integer
          format: int64
        soft_delete: 
          type: boolean
        soft_delete_by:
          type: integer
          format: int64
          
    GetCoreValuesResp:
      type: object
      properties:
        id:
          type: integer
          format: int64
        org_id:
          type: integer
          format: int64
        text:
          type: string
        description:
          type: string
        parent_id:
          type: integer
          format: int64
        thumbnail_url:
          type: string
        created_at:
          type: string
        updated_at:
          type: string
        created_by: 
          type: integer
          format: int64
        soft_delete: 
          type: boolean
        soft_delete_by:
          type: integer
          format: int64
          
    ListCoreValuesResp:
      type: object
      properties:
        id:
          type: integer
          format: int64
        org_id:
          type: integer
          format: int64
        text:
          type: string
        description:
          type: string
        parent_id:
          type: integer
          format: int64
        thumbnail_url:
          type: string
        created_at:
          type: string
        updated_at:
          type: string
        created_by: 
          type: integer
          format: int64
          